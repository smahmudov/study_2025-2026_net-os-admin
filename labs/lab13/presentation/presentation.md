---
## Front matter
lang: ru-RU
title: Администрирование сетевых подсистем
subtitle: Настройка NFS (Лабораторная работа №13)
author:
  - Суннатилло Махмудов
institute:
  - Российский университет дружбы народов, Москва, Россия
date: 3 ноября 2025

## i18n babel
babel-lang: russian
babel-otherlangs: english

## Formatting pdf
toc: false
slide_level: 2
aspectratio: 169
theme: metropolis
section-titles: true
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
---

# Цели и задачи работы

## Цель лабораторной работы

Освоить настройку сервера **NFSv4** для организации совместного доступа к файлам и каталогам между узлами сети.

## Задачи лабораторной работы

1. Установить и запустить службу **nfs-utils** на сервере.
2. Настроить экспорт каталогов и параметры безопасности.
3. Проверить доступность общих ресурсов с клиента.
4. Настроить автоматическое монтирование через **/etc/fstab**.
5. Реализовать подключение пользовательских каталогов.
6. Создать скрипты автоматизации настройки NFS.

# Теоретическая часть

## Что такое NFS

* **Network File System (NFS)** — протокол, позволяющий клиентам обращаться к удалённым каталогам, как к локальным.
* Работает по модели **клиент–сервер**.
* Использует службы **rpcbind**, **nfsd**, **mountd**, **statd** и **lockd**.

## Преимущества NFS

* Централизованное хранение данных.  
* Простота интеграции.  
* Гибкая система прав доступа.  
* Возможность автоматического монтирования при старте системы.

# Выполнение лабораторной работы

## Установка и настройка NFS-сервера

![Установка и настройка NFS-сервера](01.png){ #fig:001 width=70% }

## Редактирование конфигурации /etc/exports

![Файл /etc/exports с настройками экспорта](02.png){ #fig:002 width=70% }

## Настройка SELinux и запуск службы

![Настройка контекста безопасности SELinux](03.png){ #fig:003 width=70% }

## Настройка брандмауэра для NFS

![Настройка правил firewalld для NFS](04.png){ #fig:004 width=70% }

## Проверка экспортов с клиента

![Проверка доступных экспортов](05.png){ #fig:005 width=70% }

## Монтирование общего каталога

![Монтирование ресурса на клиенте](07.png){ #fig:007 width=70% }

## Автоматическое монтирование через /etc/fstab

![Добавление записи в /etc/fstab](08.png){ #fig:008 width=70% }

## Подключение каталога веб-сервера

![Монтирование каталога веб-сервера в дерево NFS](10.png){ #fig:010 width=70% }

## Проверка доступности каталога www

![Просмотр содержимого каталога www](11.png){ #fig:011 width=70% }

## Создание пользовательского каталога и файла

![Создание каталога common и файла пользователя](13.png){ #fig:013 width=70% }

## Проверка синхронизации между сервером и клиентом

![Создание файла на клиенте и проверка на сервере](18.png){ #fig:018 width=70% }

# Выводы

## Вывод

В ходе лабораторной работы был настроен сервер **NFSv4**, обеспечивающий совместный доступ к каталогам в сети.  
Реализованы экспорт каталогов, настройка SELinux и брандмауэра, автоматическое монтирование и подключение пользовательских каталогов.  
Созданы скрипты автоматизации, позволяющие быстро развернуть NFS-среду в системе.
